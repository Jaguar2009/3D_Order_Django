{% extends 'base.html' %}

{% block title %}Характеристики замовлення{% endblock %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/order_characteristics.css' %}">
{% endblock %}

{% block body %}
<div class="order-characteristics-container">
    <h2>Характеристики для файлу: {{ file_name }}</h2>

    <form method="post" class="order-characteristics-form">
        {% csrf_token %}

        <!-- Поле для розміру -->
        <div class="form-field {% if form.size.errors %}error{% endif %}">
            <label for="id_size" class="form-label">Розмір (%):</label>
            {{ form.size }}
            {% for error in form.size.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Поле для заповнення -->
        <div class="form-field {% if form.filling.errors %}error{% endif %}">
            <label for="id_filling" class="form-label">Заповнення (%):</label>
            {{ form.filling }}
            {% for error in form.filling.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Поле для копій -->
        <div class="form-field {% if form.copies.errors %}error{% endif %}">
            <label for="id_copies" class="form-label">Кількість копій:</label>
            {{ form.copies }}
            {% for error in form.copies.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Поле для матеріалу -->
        <div class="form-field {% if form.material.errors %}error{% endif %}">
            <label for="id_material" class="form-label">Матеріал:</label>
            {{ form.material }}
            {% for error in form.material.errors %}
                <span class="error-message">{{ error }}</span>
            {% endfor %}
        </div>

        <!-- Інші поля форми -->
        {% for field in form %}
            {% if field.name not in "size copies filling material" %}
                <div class="form-field">
                    <label for="id_{{ field.name }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                </div>
            {% endif %}
        {% endfor %}

        <div class="form-buttons">
            <button type="submit" class="submit-button">Зберегти та продовжити</button>
            {% if file_index > 0 %}
                <a href="{% url 'order_characteristics' order_id=order_id file_index=file_index|add:'-1' %}" class="back-button">Назад</a>
            {% endif %}
        </div>
    </form>

    <div class="file-progress">
        <p>Файл {{ file_index|add:1 }} з {{ total_files }}</p> <!-- Додаємо 1 лише для відображення -->
    </div>
</div>
{% endblock %}

